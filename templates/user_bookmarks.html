{% extends 'base.html' %}
{% block title %}My Bookmarks{% endblock %}
{% block styles %}<link href="{{ url_for('static', filename='css/index.css') }}" rel="stylesheet">{% endblock %}
{% block content %}
<h3><i class="bi bi-bookmark-star-fill me-2"></i>My Bookmarked Stations</h3>

{% if bookmarks %}
<div class="row g-3">
  {% for station in bookmarks %}
  <div class="col-md-6 col-lg-4">
    <div class="card h-100 shadow-sm">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-start mb-2">
          <h5 class="card-title">{{ station.name }}</h5>
          <form method="post" action="{{ url_for('main.unbookmark_station', station_id=station.station_id) }}" style="display:inline;">
            <button type="submit" class="btn btn-sm btn-outline-danger" title="Remove bookmark">
              <i class="bi bi-bookmark-dash-fill"></i>
            </button>
          </form>
        </div>
        <p class="text-muted small mb-2">
          <i class="bi bi-building me-1"></i>{{ station.operator }}
        </p>
        <p class="text-muted small mb-2">
          <i class="bi bi-geo-alt-fill me-1"></i>{{ station.city }}, {{ station.state }}
        </p>
        <div class="mb-2">
          <span class="text-primary"><strong>â‚¹{{ station.price_per_kWh_INR }}/kWh</strong></span>
        </div>
        <div class="mb-2">
          {% if station.status == 'Active' %}
            <span class="badge bg-success">Active</span>
          {% elif station.status == 'Offline' %}
            <span class="badge bg-danger">Offline</span>
          {% else %}
            <span class="badge bg-warning text-dark">{{ station.status }}</span>
          {% endif %}
        </div>
        <small class="text-muted">Bookmarked: {{ station.bookmarked_at }}</small>
        <div class="mt-3">
          <a href="{{ url_for('main.station_detail', station_id=station.station_id) }}" 
             class="btn btn-primary w-100">
            <i class="bi bi-eye me-2"></i>View Details
          </a>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% else %}
<div class="alert alert-info">
  <i class="bi bi-info-circle me-2"></i>
  You haven't bookmarked any stations yet. Browse stations and bookmark your favorites!
</div>
<a href="{{ url_for('main.index') }}" class="btn btn-primary">
  <i class="bi bi-search me-2"></i>Browse Stations
</a>
{% endif %}
{% endblock %}
